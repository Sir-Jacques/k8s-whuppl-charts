{{- $projects := .Values.projects }}
{{- range $project := $projects }}
{{- range $namespace := $project.namespaces }}
---
{
  "kind": "SealedSecret",
  "apiVersion": "bitnami.com/v1alpha1",
  "metadata": {
    "name": "dockerhub-secret",
    "namespace": {{- $namespace.name }},
    "creationTimestamp": null,
    "annotations": {
      "sealedsecrets.bitnami.com/cluster-wide": "true"
    }
  },
  "spec": {
    "template": {
      "metadata": {
        "name": "dockerhub-secret",
        "namespace": {{- $namespace.name }},
        "creationTimestamp": null,
        "annotations": {
          "sealedsecrets.bitnami.com/cluster-wide": "true"
        }
      }
    },
    "encryptedData": {
      ".dockerconfigjson": "ZXlKaGRYUm9jeUk2ZXlKb2RIUndjem92TDJsdVpHVjRMbVJ2WTJ0bGNpNXBieTkyTVM4aU9uc2lkWE5sY201aGJXVWlPaUpxWldGdWFtRmpjWFZsYzNkaGNtRnVaR1VpTENKd1lYTnpkMjl5WkNJNklrQkVkMkZ5Y21Wc01VQWlMQ0psYldGcGJDSTZJbXBoWTJOdmJXOXZheTQ1T0VCbmJXRnBiQzVqYjIwaUxDSmhkWFJvSWpvaVlXMVdhR0p0Y0doWk0wWXhXbGhPTTFsWVNtaGliVkpzVDJ0Q1JXUXlSbmxqYlZaelRWVkJQU0o5ZlgwPQ=="
    }
  }
}
{{- end }}
{{- end }}